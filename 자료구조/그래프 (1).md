# 그래프 (1)

## 그래프

연결되어 있는 객체 간의 관계를 표현하는 자료구조이며 **트리**도 그래프의 특수한 경우

### 그래프의 정의

그래프 G는 (V, E)로 표시

**정점(Vertices)**

여러가지 특성을 가질 수 있는 객체, 노드(node)라고도 불림

- V(G) : 그래프 G의 정점들의 집합

**간선(Edge)**

정점들 간의 관계, 링크(link)라고도 불림

- E(G) : 그래프 G의 간선들의 집합

![Untitled](%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%91%E1%85%B3%20(1)%20c94a59682ca34828b83771c151044571/Untitled.png)

### 그래프의 종류

**방향/ 무방향 그래프**

방향 그래프는 간선 표시가<>로 되어있음

**가중치 그래프**

‘네트워크’라고도 불림, **간선**에 비용/가중치가 할당된 그래프

**부분 그래프**

정접 집합 V(G)와 간선집합 E(G)의 **부분 집합**으로 이루어진 그래프

### 그래프 용어

- **인접 정점** : 하나의 정점에서 간선에 의해 직접 연결된 정점
- **무방향 그래프의 차수** : 하나의 정점에서 연결된 다른 정점의 수
- **방향 그래프의 차수**
    - 진입 차수 : 외부에서 오는 간선의 수(내차수)
    - 진출 차수 : 외부로 향하는 간선의 수(외차수)
    - 방향 그래프의 모든 진입(진출) 차수의 합은 간선의 수
- **단순 경로** : 경로 중에서 반복되는 간선이 없는 경로
- **사이클** : 단순 경로의 시작 정점과 종료 정점이 동일한 경로
- **연결 그래프** : 무방향 그래프 G에 있는 모든 정점쌍에 대하여 항상 경로 존재
- **완전 그래프 :** 모든 정점이 연결되어 있는 그래프
    - n개의 정점을 가진 무방향 완전그래프 간선의 수 : $n*(n-1)/2$

### 그래프 ADT

```c
create_graph() // 그래프를 생성한다.
init(g) // 그래프 g를 초기화한다.
insert_vertex(g,v) // 그래프 g에 정점 v를 삽입한다.
insert_edge(g,u,v) // 그래프 g에 간선 (u,v)를 삽입한다. 
delete_vertex(g,v) // 그래프 g의 정점 v를 삭제한다.
delete_edge(g,u,v) // 그래프 g의 간선 (u,v)를 삭제한다. 
is_empty(g) // 그래프 g가 공백 상태인지 확인한다. 
adjacent(v) // 정점 v에 인접한 정점들의 리스트를 반환한다. 
destroy_graph(g) // 그래프 g를 제거한다.
```

### 그래프의 표현

**인접 행렬 방법**

간선(i,j)가 그래프에 존재 → M[i][j] = 1

존재 하지 않을 시 → M[i][j] = 0

![Untitled](%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%91%E1%85%B3%20(1)%20c94a59682ca34828b83771c151044571/Untitled%201.png)

**인접 리스트 방법**

각 정점에 인접한 정점들을 연결 리스트로 표현

![Untitled](%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%91%E1%85%B3%20(1)%20c94a59682ca34828b83771c151044571/Untitled%202.png)

## 그래프 탐색

하나의 정점으로부터 시작하여 차례대로 모든 정점들을 한번씩 방문하는 것.

### 깊이 우선 탐색(DFS)

한 방향으로 가다 더 이상 갈 수 없게 되면 가장 가까운 갈림길로 돌아와 다른 방향으로 탐색 진행. 

되돌아가기 위해서는 **스택** 필요

**시간 복잡도** : 인접 행렬 → $O(n^2)$, 인접 리스트 → $O(n+e)$

**스택 방문 순서**

![Untitled](%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%91%E1%85%B3%20(1)%20c94a59682ca34828b83771c151044571/Untitled%203.png)

1. 시작 정점 0을 삽입
2. 0이 나가면서(출력) 인접 정점(1, 2, 3)을 스택에 넣음 ←삽입 순서는 상관 없음
3. 가장 위의 1이 나가면서 인접 정점4 삽입
4. 4가 나가면서 인접 정점 6 삽입
5. 6이 나가면서 인접 정점 5 삽입
6. 5가 나가며 더 이상 스택에 넣을 것이 없으니 차례대로 출력
7. 2와 3 차례대로 출력

**이미 스택에 들어있거나 출력된 것은 스택에 삽입하지 않는다**

### 너비 우선 탐색(BFS)

시작 정점으로부터 가까운 정점을 먼저 방문하고, 멀리 떨어져 있는 정점을 나중에 방문.

**큐**를 사용하여 구현

**시간 복잡도** : 인접 행렬 → $O(n^2)$, 인접 리스트 → $O(n+e)$

**큐 방문 순서**

![Untitled](%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%91%E1%85%B3%20(1)%20c94a59682ca34828b83771c151044571/Untitled%204.png)

1. 시작 0을 큐에 삽입
2. 0이 나가면서 인접 정점(1,2,3) 삽입
3. 1이 나가며 인접 정점 4 삽입
4. 2가 나가며 인접 정점 5 삽입
5. 3이 나가지만 인접 정점들이 이미 출력 되거나 큐에 들어와 있어 삽입 없음.
6. 4가 나가며 인접 정점 6 삽입
7. 5와 6 나가면서 차례대로 출력

**이미 큐에 들어있거나 출력된 것은 큐에 삽입하지 않는다**