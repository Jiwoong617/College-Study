# 트리 (3)

### 스레드 이진 트리

- 중위 순회
- 스레드는 **단말 노드만** 적용
- 이진트리의 NULL링크를 이용하여 **순환 호출 없이도** 트리의 노드들을 순회
    - 이진 트리는 순환 호출을 기본으로 함
- 중위 순회 시 NULL 링크에 후속 노드인 중위 후속자를 저장
- 중위 순회 시 NULL 링크에 선행 노드인 중위 선행자를 저장

![Untitled](https://user-images.githubusercontent.com/101644572/170813229-dd109775-e937-4156-93b1-e6ad85578f46.png)

**F의 경우 =** 중위 후속자 : C, 중위 선행자 : A

**D의 왼쪽 스레드와 G의 오른쪽 스레드**

D는 선행자가 없고, G는 후속자가 없다. 하지만 루트를 가리키게 만들어 노드의 위치를 잃지 않게 만들고, 스레드 이진 트리의 정의를 명확하게 해준다.

## 이진 탐색 트리

탐색 작업을 효율적으로 하기 위한 자료구조이며, **중위 순회** 시 오름차순으로 정렬된 값을 얻을 수 있다.

- **key(왼쪽 서브트리) ≤ key(루트 노드) ≤ key(오른쪽 서브트리)**

![Untitled 1](https://user-images.githubusercontent.com/101644572/170813234-a63ae6d1-5d9d-4cd7-b668-0d5d4146eefe.png)

### 이진 탐색 트리에서 탐색 연산

1. 주어진 키 값이 루트와 비교한 값이 같으면 탐색이 성공적으로 끝남
2. 주어진 키(key) 값이 **루트 노드의 값보다 작으면**, 탐색은 **왼쪽 서브 트리 기준으로 다시 시작**
3. 주어진 키 값이 **루트 노드의 값보다 크면**, 탐색은 **오른쪽 서브 트리 기준으로 다시 시작**.

![Untitled 2](https://user-images.githubusercontent.com/101644572/170813237-65e5cdb6-069f-4d47-8a6b-cbde6f89c88f.png)

### 이진 탐색 트리에서 삽입 연산

1. 값이 주어짐
2. 탐색 시작
3. 탐색이 실패한 위치에 새로운 노드를 삽입

![Untitled 3](https://user-images.githubusercontent.com/101644572/170813243-8d865f6d-bfb2-41c2-84c8-3f7c2e38c8c2.png)

### 이진 탐색 트리에서 삭제 연산

3가지의 상황이 존재

**1. 삭제 하려는 노드가 단말 노드일 경우** : 단말노드 삭제

![Untitled 4](https://user-images.githubusercontent.com/101644572/170813251-f4a7bae5-aa57-4e99-b41f-3fbae17a673a.png)

**2. 삭제 하려는 노드가 왼쪽/오른쪽 서브 트리 중 하나만 가지고 있는 경우**

- 노드를 삭제하고, 서브 트리를 삭제된 노드의 자리에 붙여 준다.

![Untitled 5](https://user-images.githubusercontent.com/101644572/170813258-3ee5ff99-3d01-4e4d-8ab8-d950defc6d2f.png)

**3. 삭제 하려는 노드가 두개의 서브 트리를 모두 가지는 경우**

- 삭제된 노드와 가장 비슷한 값을 가진 노드를 삭제된 노드 위치로 가져온다.

![Untitled 6](https://user-images.githubusercontent.com/101644572/170813261-764cfb67-6e95-4fc3-9d2d-c1d133a7cf44.png)

### 이진 탐색 트리의 성능 분석

- 이진 탐색 트리에서의 탐색, 삽입, 삭제 연산의 시간 복잡도는 트리의 높이(h)에 비례

**최선의 경우(이진 트리가 균형적 일 때)** : h = $log_2n$초

**최악의 경우(이진 트리가 한쪽으로 치우 칠때 → 1자형) : h = n**
