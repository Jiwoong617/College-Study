# 4장 파일 사용

### 파일 복사 - cp

**$ cp [-i] 파일1 파일2** : 파일1을 파일2에 복사

- 대화형 옵션 -i : 파일2의 이름이 존재 시 덮어쓰기 여부를 물어봄

**$ cp 파일 디렉터리 :** 지정된 디렉터리에 같은 이름으로 파일 복사

**$ cp 파일1 …파일n 디렉터리** : 여러 개의 파일을 디렉터리로 복사

**$ cp [-r] 디렉터리1 디렉터리2** : 하위를 포함한 디렉터리1 전체를 디렉터리2로 복사

- 리커전 옵셥 -r : 하위를 포함한

<br>

### 파일 이동 - mv

**$ mv [-i] 파일1 파일2** : 파일1의 이름을 파일2로 변경

- 대화형 옵션 -i : 파일2의 이름이 존재 시 덮어쓰기 여부를 물어봄

**$ mv 파일 디렉터리** : 파일을 지정된 디렉터리로 이동

**$ mv 파일1… 파일n 디렉터리** : 여러 개의 파일을 디렉터리로 이동

**$ mv 디렉터리1 디렉터리2** : 디렉터리1의 이름을 디렉터리2로 변경

<br>

### 파일 삭제 - rm

**$ rm [-i] 파일** : 파일 삭제

**$ rm [-ri] 디렉터리** : 디렉터리 삭제

- 대화형 옵션 -i : 삭제 여부를 물어봄
- 리커전 옵션 -r : 하위를 모두 포함한

<br>

## 링크

**$ ln [-s] 파일1 파일2 :** 파일1에 대한 새로운 이름(링크)로 파일2 생성

**$ ln [-s] 파일1 디렉터리 :** 파일1에 대한 링크를 디렉터리에 같은 이름으로 생성

- -s : 심볼릭 링크

<br>

### 하드 링크

**기존 파일**에 대한 **새로운 이름**, 기존 파일을 대표하는 i-노드를 가리킨다.

- 하드 링크로 만든 파일을 변경 시 기존 파일의 내용도 변경됨
- 기존 파일이 삭제되어도 하드 링크 파일은 작동

<br>

### 심볼릭 링크

기존 파일을 가리키는 **별도의 파일**, 경로명을 저장하는 특수 파일 → **포인터 같은 파일**

- 기존 파일이 삭제되면 심볼링 링크 파일을 작동하지 않는다.

---

<br>

## 파일 속성

![Untitled](https://user-images.githubusercontent.com/101644572/172837117-714d5c0d-83dc-4594-9ea8-fa700daeb235.png)

- 앞에서부터 차례대로 (블록 수가 없다..)

**블록 수 :** 블록의 개수 (K바이트 단위)

**파일 종류 :** 일반 파일(-), 디렉터리(d), 링크(l), 파이프(p), 소켓(s), 디바이스{블록(b), 캐릭터/문자**(c)} 등의 종류 -네트워크 디바이스는 없다.**

**접근 권한 : 소유자, 그룹, 기타 사용자의 r,w,x 권한 → 3자리씩**

**하드 링크 수 :** 파일에 대한 하드 링크 개수

**소유자 및 그룹 :** 소유자 ID 및 속한 그룹

**파일 크기 :** 파일 크기 (바이트 단위)

**최종 수정 시간 :** 생성 혹은 최종으로 수정한 시간

<br>

### 파일 종류

![Untitled 1](https://user-images.githubusercontent.com/101644572/172837145-baaadecc-8529-40ef-89e7-161d597d4466.png)


$ file 파일 : 파일의 종류에 대한 자세한 정보 출력

<br>
<br>

## 접근권한

파일에 대한 읽기(r), 쓰기(w), 실행(x) 권한

3개씩 끊어서 소유자/그룹/기타 사용자로 구분

- **r :** 파일에 대해 읽기/ 디렉터리 내의 파일을 읽을 수 있는 권한
- **w :**  파일에 대한 쓰기 권한/ 디렉터리 내의 파일을 생성,삭제 할 수 있는 권한
- **x :** 파일에 대한 실행 권한/ 디렉터리 내로 탐색을 위해 이동할 수 있는 권한

**ex) rwxrw-r--**

- 사용자 : 읽기, 쓰기, 실행
- 그룹 : 읽기, 쓰기
- 기타 사용자 : 읽기

<br>

### 접근권한 변경

기호 또는 8진수를 사용하여 변경 가능

**$ chmod [-R] 접근권한 파일/디렉터리 :** 접근권한 변경, -R 사용 시 하위 모든 것도 포함

**접근권한 기호**

- 사용자 범위 : u(소유자), g(그룹), o(기타 사용자), a(모든 사용자)
- 연산자 : +(권한 추가), -(권한 제거), =(권한 설정)
- 권한 : r, w ,x

**8진수**

- 3개씩 끊어서 8진수 적용
- ex) rwxrwxrwx = 777, rwxrw---- = 760

변경 예)

- $ chmod 644 cs1.txt
- $ chmod g-w, o+rw cs1.txt

<br>

## 기타 파일 속성 변경

### 소유자 변경 chown

**$ chown 사용자 파일**

**$ chown [-R] 사용자 디렉터리**

파일/ 디렉터리의 소유자를 지정된 사용자로 변경, -R 사용 시 하위 디렉터리에 대해서도 소유자 변경

<br>

### 그룹 변경 chgrp

**$ chgrp 그룹 파일**

**$ chgrp [-R] 그룹 디렉터리**

파일/ 디렉터리의 그룹을 지정된 그룹으로 변경, -R 사용 시 하위 디렉터리에 대해서도 그룹 변경

### 최종 수정 시간 변경

**$ touch 파일**

파일 내부를 건드리지 않고, 최종 사용 시간과 최종 수정 시간을 현재 시간으로 변경

- 있는 파일 지정 시 최종 사용/수정 시간 변경
- 없는 파일 지정 시 파일 생성
